<template name="ModuleDashboard">
	{{#if root}}
		<h2>{{rootModule.name}}</h2>
		<p>
			<span class="label label-default">{{rootModule.subModuleCount}}</span> modules registered
		</p>

	{{else}}

		<ol class="breadcrumb">
			<li><a href="/">Root</a></li>
			{{#each breadcrumb in breadcrumbs}}
				<li><a href="/module/{{breadcrumb._id}}">{{breadcrumb.name}}</a></li>
			{{/each}}
			<li>{{module.name}}</li>
		</ol>
		{{> DetailView module=module}}
	{{/if}}

	<div class="row wrapping-fix">
		{{#each subModule in subModules}}
			{{> SubModuleColumn module=subModule}}
		{{else}}
			<div class="col-sm-12">
				<div class="alert alert-info">
					This module has no submodules
				</div>
			</div>
		{{/each}}
	</div>
</template>

<template name="SubModuleColumn">
	<div class="col-sm-4 {{#if highlighted}}highlight{{/if}}">
		{{> Template.dynamic template=miniView data=miniViewData}}
	</div>
</template>