<!--
    DISCLAIMER:
        This template assumes a Module document in the datacontext
        -> should be called like this: {{> GenericModule module=data}}
-->
<template name="GenericModuleContainer">
	{{> GenericModule module=module sentEvents=sentEvents}}
</template>

<template name="GenericModule">
	{{#ModuleMiniView state=module.state id=module._id name=module.name}}
		<p>
			<span class="label label-default">{{module.subModuleCount}}</span>
			submodule{{#unless single module.subModuleCount}}s{{/unless}}
		</p>
		<h6>Sent events</h6>

		{{> ExpandableEventsList eventCursor=sentEvents module=module}}
	{{/ModuleMiniView}}
</template>

<template name="ModuleMiniView">
	<div class="panel panel-default">
		{{> MiniViewHeading state=state moduleId=id name=name}}

		{{#MiniViewBody}}
			{{> Template.contentBlock}}
		{{/MiniViewBody}}
	</div>
</template>

<template name="MiniViewHeading">
	<div class="panel-heading">
		{{> StateLabel state=state class="pull-right"}}
		<h3 class="panel-title"><a href="/module/{{moduleId}}">{{name}}</a></h3>
	</div>
</template>

<template name="MiniViewBody">
	<div class="panel-body">
		{{> Template.contentBlock}}
	</div>
</template>